{"version":3,"sources":["webpack:///./js/reference.js","webpack:///./js/alert.js","webpack:///./js/apiService.js","webpack:///./js/basicLightbox.js","webpack:///./index.js","webpack:///./templates/photo-card.hbs"],"names":["refs","loadMoreBtn","document","querySelector","gallery","form","defaults","styling","icons","delay","width","defaultModules","set","PNotifyMobile","fetchApi","q","page","fetch","baseUrl","then","responseJson","json","response","total","success","title","text","alert","hits","catch","err","error","basicLightbox","require","creatImageLightbox","src","height","create","show","quest","loadMoreBtnHandler","galleryMarkup","list","itemsMarkup","photoCard","insertAdjacentHTML","isGalleryEmpty","innerHTML","IntersectionObserver","entries","forEach","entry","isIntersecting","root","rootMargin","threshold","observe","addEventListener","event","preventDefault","currentTarget","elements","query","value","ref","classList","add","remove","reset","target","currentSrc","Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop"],"mappings":"8IAKeA,EALF,CACXC,YAAaC,SAASC,cAAc,cACpCC,QAASF,SAASC,cAAc,YAChCE,KAAMH,SAASC,cAAc,iB,mGCa/BG,WAASC,QAAU,WACnBD,WAASE,MAAQ,WACjBF,WAASG,MAAQ,IACjBH,WAASI,MAAQ,QAEjBC,iBAAeC,IAAIC,EAAe,ICXnB,SAASC,EAASC,EAAGC,GAGlC,OAAOC,MAFYC,qEAA4BH,EAA5BG,kCAA2EF,EAA3EE,uCAGhBC,MAAK,SAAAC,GAAY,OAAIA,EAAaC,UAClCF,MAAK,SAAAG,GAcJ,OAbIA,EAASC,MAAQ,GAAc,IAATP,GACxBQ,kBAAQ,CACNC,MAAO,WACPC,KAAM,aAAaJ,EAASC,MAAxB,YAGe,IAAnBD,EAASC,OACXI,gBAAM,CACJF,MAAO,SACPC,KAAM,gDAIHJ,EAASM,QAEjBC,OAAM,SAAAC,GACLC,gBAAM,CACJN,MAAO,SACPC,KAAMI,O,cCjCRE,EAAgBC,EAAQ,QAYfC,MAVf,SACEC,EACAzB,EACA0B,QACA,IAHAD,MAAM,sCAGN,IAFAzB,MAAQ,WAER,IADA0B,MAAS,KAETJ,EACGK,OADH,cACwB3B,EADxB,WACwC0B,EADxC,QACsDD,EADtD,KAEGG,QCFDC,EAAQ,GACRvB,EAAO,EAgCX,SAASwB,IAEP1B,EAASyB,EADTvB,GAAQ,GACcG,KAAKsB,GAY7B,SAASA,EAAcC,GACrB,IAAMC,EAAcC,IAAUF,GAC9B1C,EAAKI,QAAQyC,mBAAmB,YAAaF,GAmB/C,SAASG,IACP,OAAQ9C,EAAKI,QAAQ2C,UA5DN,IAAIC,sBA2CrB,SAA0BC,GACxBA,EAAQC,SAAQ,SAAAC,GACVA,EAAMC,iBAAmBN,KAC3BN,SApD0B,CAC9Ba,KAAM,KACNC,WAAY,QACZC,UAAW,KAQJC,QAAQxD,EAAKC,aAEtBD,EAAKK,KAAKoD,iBAAiB,UAI3B,SAAqBC,GACnBA,EAAMC,iBACNpB,EAAQmB,EAAME,cAAcC,SAASC,MAAMC,MAC3C/C,EAAO,EAoBcgD,EAnBPhE,EAAKI,QAoBnB4D,EAAIjB,UAAY,GAnBhBjC,EAASyB,EAAOvB,GACbG,KAAKsB,GACLtB,MAAK,WACJ2B,IAqCJ9C,EAAKC,YAAYgE,UAAUC,IAAI,mBAJ/BlE,EAAKC,YAAYgE,UAAUE,OAAO,sBA/BlCnE,EAAKK,KAAK+D,QAaZ,IAAuBJ,KA1BvBhE,EAAKC,YAAYwD,iBAAiB,QAASjB,GAC3CxC,EAAKI,QAAQqD,iBAAiB,SAoB9B,SAAwBC,GAAO,IACrBW,EAAWX,EAAXW,OACRA,EAAOC,YAAcpC,EAAmBmC,EAAOC,gB,qBChDjD,IAAIC,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,EAAI,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC5G,IAAIC,EAAQC,EAAiB,MAAVL,EAAiBA,EAAUD,EAAUO,aAAe,GAAKC,EAAOR,EAAUS,MAAMC,cAAeC,EAAO,WAAYC,EAAOZ,EAAUa,iBAAkBC,EAAiBd,EAAUc,gBAAkB,SAASC,EAAQC,GAClO,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,IAKtB,MAAO,4HACHJ,SAASP,EAAmI,OAAzHA,EAASS,EAAeZ,EAAQ,kBAA8B,MAAVD,EAAiBa,EAAeb,EAAO,gBAAkBA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,eAAe,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GACxU,UACAO,SAASP,EAAmH,OAAzGA,EAASS,EAAeZ,EAAQ,UAAsB,MAAVD,EAAiBa,EAAeb,EAAO,QAAUA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GAChT,YACAO,SAASP,EAAuI,OAA7HA,EAASS,EAAeZ,EAAQ,oBAAgC,MAAVD,EAAiBa,EAAeb,EAAO,kBAAoBA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,iBAAiB,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,QAAUC,GAC/U,kCACAO,SAASP,EAAyI,OAA/HA,EAASS,EAAeZ,EAAQ,qBAAiC,MAAVD,EAAiBa,EAAeb,EAAO,mBAAqBA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,kBAAkB,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GACjV,kNACAO,SAASP,EAAqH,OAA3GA,EAASS,EAAeZ,EAAQ,WAAuB,MAAVD,EAAiBa,EAAeb,EAAO,SAAWA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,QAAQ,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,IAAI,IAAM,CAAC,KAAO,GAAG,OAAS,OAASC,GACrT,kKACAO,SAASP,EAAqH,OAA3GA,EAASS,EAAeZ,EAAQ,WAAuB,MAAVD,EAAiBa,EAAeb,EAAO,SAAWA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,QAAQ,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,IAAI,IAAM,CAAC,KAAO,GAAG,OAAS,OAASC,GACrT,+JACAO,SAASP,EAA2H,OAAjHA,EAASS,EAAeZ,EAAQ,cAA0B,MAAVD,EAAiBa,EAAeb,EAAO,YAAcA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,WAAW,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,IAAI,IAAM,CAAC,KAAO,GAAG,OAAS,OAASC,GAC9T,sKACAO,SAASP,EAA6H,OAAnHA,EAASS,EAAeZ,EAAQ,eAA2B,MAAVD,EAAiBa,EAAeb,EAAO,aAAeA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,YAAY,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,IAAI,IAAM,CAAC,KAAO,GAAG,OAAS,OAASC,GACjU,yDACJ,SAAW,CAAC,EAAE,YAAY,KAAO,SAASL,EAAUC,EAAOC,EAAQC,EAASC,GAC1E,IAAIiB,EAON,OAA+R,OAAtRA,GAPsBrB,EAAUc,gBAAkB,SAASC,EAAQC,GACtE,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,KAKWd,EAAQ,QAAQkB,KAAe,MAAVnB,EAAiBA,EAAUD,EAAUO,aAAe,GAAIN,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,GAAKD,EAAUsB,QAAQ,EAAGlB,EAAM,GAAG,QAAUJ,EAAUuB,KAAK,KAAOnB,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,GAAG,IAAM,CAAC,KAAO,GAAG,OAAS,OAAiBiB,EAAS,IAC/S,SAAU,K","file":"main.517ebfcc582fa0bf37fc.js","sourcesContent":["const refs = {\r\n  loadMoreBtn: document.querySelector('.load-more'),\r\n  gallery: document.querySelector('.gallery'),\r\n  form: document.querySelector('.search-form'),\r\n};\r\nexport default refs;\r\n","import {\r\n  alert,\r\n  notice,\r\n  info,\r\n  success,\r\n  error,\r\n  defaultModules,\r\n} from '@pnotify/core';\r\nimport '@pnotify/core/dist/PNotify.css';\r\nimport * as PNotifyMobile from '@pnotify/mobile';\r\nimport '@pnotify/mobile/dist/PNotifyMobile.css';\r\n\r\nimport 'material-design-icons/iconfont/material-icons.css';\r\nimport '@pnotify/core/dist/Material.css';\r\nimport { defaults } from '@pnotify/core';\r\n\r\ndefaults.styling = 'material';\r\ndefaults.icons = 'material';\r\ndefaults.delay = 2000;\r\ndefaults.width = '300px';\r\n\r\ndefaultModules.set(PNotifyMobile, {});\r\n\r\nexport { alert, notice, info, success, error };\r\n","'use strict';\r\nimport { alert, success, error } from './alert.js';\r\n\r\nconst API_KEY = '18376090-d7378f6abd5315284a04e80ad';\r\nconst baseUrl = 'https://pixabay.com/api/';\r\nconst imageType = 'photo';\r\nconst lang = 'en';\r\nconst orientation = 'horizontal';\r\nconst perPage = 12;\r\n\r\nexport default function fetchApi(q, page) {\r\n  const request = `${baseUrl}?key=${API_KEY}&q=${q}&image_type=${imageType}&lang=${lang}&page=${page}&per_page=${perPage}&orientation=${orientation}`;\r\n\r\n  return fetch(request)\r\n    .then(responseJson => responseJson.json())\r\n    .then(response => {\r\n      if (response.total > 0 && page === 1) {\r\n        success({\r\n          title: 'Success!',\r\n          text: `Was found ${response.total} images`,\r\n        });\r\n      }\r\n      if (response.total === 0) {\r\n        alert({\r\n          title: 'Alert!',\r\n          text: 'No images found, Please change your request',\r\n        });\r\n      }\r\n\r\n      return response.hits;\r\n    })\r\n    .catch(err => {\r\n      error({\r\n        title: 'ERROR!',\r\n        text: err,\r\n      });\r\n    });\r\n}\r\n","import 'basiclightbox/dist/basicLightbox.min.css';\r\nconst basicLightbox = require('basiclightbox');\r\n\r\nfunction creatImageLightbox(\r\n  src = 'https://placehold.it/1400x900',\r\n  width = 1400,\r\n  height = 900,\r\n) {\r\n  basicLightbox\r\n    .create(`<img width=${width} height=${height} src=${src}>`)\r\n    .show();\r\n}\r\n\r\nexport default creatImageLightbox;\r\n","import './styles/styles.css';\r\nimport 'material-design-icons/iconfont/material-icons.css';\r\nimport refs from './js/reference.js';\r\nimport photoCard from './templates/photo-card.hbs';\r\nimport fetchApi from './js/apiService.js';\r\n\r\nimport creatImageLightbox from './js/basicLightbox.js';\r\n\r\nlet quest = '';\r\nlet page = 1;\r\n\r\nconst observerCallbackOptions = {\r\n  root: null,\r\n  rootMargin: '100px',\r\n  threshold: 0.5,\r\n};\r\n\r\nconst observer = new IntersectionObserver(\r\n  observerCallback,\r\n  observerCallbackOptions,\r\n);\r\n\r\nobserver.observe(refs.loadMoreBtn);\r\n\r\nrefs.form.addEventListener('submit', formHandler);\r\nrefs.loadMoreBtn.addEventListener('click', loadMoreBtnHandler);\r\nrefs.gallery.addEventListener('click', galleryHandler);\r\n\r\nfunction formHandler(event) {\r\n  event.preventDefault();\r\n  quest = event.currentTarget.elements.query.value;\r\n  page = 1;\r\n  markupDestroy(refs.gallery);\r\n  fetchApi(quest, page)\r\n    .then(galleryMarkup)\r\n    .then(() => {\r\n      isGalleryEmpty() ? hideShowMoreBtn() : showShowMoreBtn();\r\n    });\r\n  refs.form.reset();\r\n}\r\n\r\nfunction loadMoreBtnHandler() {\r\n  page += 1;\r\n  fetchApi(quest, page).then(galleryMarkup);\r\n}\r\n\r\nfunction galleryHandler(event) {\r\n  const { target } = event;\r\n  target.currentSrc && creatImageLightbox(target.currentSrc);\r\n}\r\n\r\nfunction markupDestroy(ref) {\r\n  ref.innerHTML = '';\r\n}\r\n\r\nfunction galleryMarkup(list) {\r\n  const itemsMarkup = photoCard(list);\r\n  refs.gallery.insertAdjacentHTML('beforeend', itemsMarkup);\r\n}\r\n\r\nfunction observerCallback(entries) {\r\n  entries.forEach(entry => {\r\n    if (entry.isIntersecting && !isGalleryEmpty()) {\r\n      loadMoreBtnHandler();\r\n    }\r\n  });\r\n}\r\n\r\nfunction showShowMoreBtn() {\r\n  refs.loadMoreBtn.classList.remove('visually-hidden');\r\n}\r\n\r\nfunction hideShowMoreBtn() {\r\n  refs.loadMoreBtn.classList.add('visually-hidden');\r\n}\r\n\r\nfunction isGalleryEmpty() {\r\n  return !refs.gallery.innerHTML;\r\n}\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"photo-card item\\\">\\r\\n      <div class=\\\"photo-card__img-box\\\">\\r\\n            <img class=\\\"photo-card__img\\\" src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":46},\"end\":{\"line\":4,\"column\":62}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"tags\") || (depth0 != null ? lookupProperty(depth0,\"tags\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"tags\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":69},\"end\":{\"line\":4,\"column\":77}}}) : helper)))\n    + \"\\\" width=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatWidth\") || (depth0 != null ? lookupProperty(depth0,\"webformatWidth\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatWidth\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":86},\"end\":{\"line\":4,\"column\":104}}}) : helper)))\n    + \"\\\"\\r\\n                  height=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatHeight\") || (depth0 != null ? lookupProperty(depth0,\"webformatHeight\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatHeight\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":26},\"end\":{\"line\":5,\"column\":45}}}) : helper)))\n    + \"\\\" />\\r\\n      </div>\\r\\n\\r\\n      <ul class=\\\"photo-card__stats stats list\\\">\\r\\n            <li class=\\\"stats-item item\\\">\\r\\n                  <i class=\\\"material-icons md-18\\\">thumb_up</i>\\r\\n                  \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"likes\") || (depth0 != null ? lookupProperty(depth0,\"likes\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":18},\"end\":{\"line\":11,\"column\":27}}}) : helper)))\n    + \"\\r\\n            </li>\\r\\n\\r\\n            <li class=\\\"stats-item item\\\">\\r\\n                  <i class=\\\"material-icons md-18\\\">visibility</i>\\r\\n                  \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":18},\"end\":{\"line\":16,\"column\":27}}}) : helper)))\n    + \"\\r\\n            </li>\\r\\n\\r\\n            <li class=\\\"stats-item item\\\">\\r\\n                  <i class=\\\"material-icons md-18\\\">comment</i>\\r\\n                  \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"comments\") || (depth0 != null ? lookupProperty(depth0,\"comments\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":18},\"end\":{\"line\":21,\"column\":30}}}) : helper)))\n    + \"\\r\\n            </li>\\r\\n\\r\\n            <li class=\\\"stats-item item\\\">\\r\\n                  <i class=\\\"material-icons md-18\\\">cloud_download</i>\\r\\n                  \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":26,\"column\":18},\"end\":{\"line\":26,\"column\":31}}}) : helper)))\n    + \"\\r\\n            </li>\\r\\n\\r\\n      </ul>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":31,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}